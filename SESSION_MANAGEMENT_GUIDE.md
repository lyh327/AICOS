# AI 角色扮演聊天 - 会话管理功能使用指南

## 🎉 新功能概述

我们为AI角色扮演聊天平台添加了完整的会话管理功能，让您可以：

- ✅ **保存对话历史** - 自动保存每次与AI角色的对话
- ✅ **多会话管理** - 与同一角色创建多个独立的对话
- ✅ **会话切换** - 在不同对话之间自由切换
- ✅ **智能标题** - 自动根据对话内容生成会话标题
- ✅ **数据导出/导入** - 备份和恢复您的对话记录

## 📱 功能使用指南

### 1. 开始新对话

**方法一：从首页开始**
1. 访问首页选择任意角色
2. 点击角色卡片进入聊天界面
3. 系统自动创建新会话并显示欢迎消息

**方法二：在聊天界面创建**
1. 在任意聊天界面点击右上角"新对话"按钮
2. 系统立即创建新的会话
3. 开始全新的对话体验

### 2. 管理会话历史

**查看所有会话：**
- 点击首页右上角"会话历史"按钮
- 查看所有角色的对话记录
- 按时间排序显示最近的对话

**查看角色会话：**
- 在聊天界面点击"历史会话"按钮
- 查看当前角色的所有对话
- 快速切换到不同的会话

### 3. 会话操作

**重命名会话：**
1. 在会话列表中点击编辑图标 ✏️
2. 输入新的会话标题
3. 按回车键或点击"保存"确认

**删除会话：**
1. 在会话列表中点击删除图标 🗑️
2. 确认删除操作（此操作无法撤销）

**切换会话：**
- 点击任意会话卡片即可切换到该对话
- URL会自动更新包含会话ID

### 4. 数据管理

**导出对话记录：**
1. 访问"会话历史"页面
2. 点击"导出"按钮
3. 下载JSON格式的备份文件

**导入对话记录：**
1. 在"会话历史"页面点击"导入"
2. 选择之前导出的JSON文件
3. 系统自动恢复所有对话记录

**清空所有数据：**
- 在"会话历史"页面点击"清空"按钮
- 确认操作后删除所有会话记录

## 🔧 技术特性

### 智能存储管理
- **本地存储**：数据保存在浏览器localStorage中
- **自动清理**：最多保存50个会话，超出后自动删除最旧的
- **压缩优化**：高效的数据压缩和存储方案

### 智能会话标题
- **自动生成**：根据用户第一条消息智能生成标题
- **角色相关**：结合角色名称和对话内容
- **可编辑**：支持手动修改会话标题

### 数据持久化
- **断点续传**：刷新页面后继续之前的对话
- **跨设备同步**：通过导出/导入实现数据迁移
- **备份恢复**：支持完整的数据备份和恢复

## 📊 存储信息

### 存储容量
- **当前使用**：实时显示已用存储空间
- **总容量**：约5MB的本地存储空间
- **使用率**：可视化的存储使用进度条

### 存储提醒
- **80%警告**：使用超过80%时显示警告
- **清理建议**：提供删除旧会话的建议
- **优化提示**：导出备份释放空间的指导

## 🚀 使用场景

### 教育学习
- **分主题学习**：为不同学科创建独立会话
- **进度追踪**：查看学习历史和进展
- **知识回顾**：重新访问之前的学习对话

### 娱乐体验
- **角色扮演**：与不同角色开展多种剧情
- **故事延续**：继续之前未完成的故事情节
- **情境探索**：探索角色在不同情境下的反应

### 语言练习
- **话题练习**：针对不同话题进行专项练习
- **水平对比**：比较不同时期的语言水平
- **错误回顾**：查看和学习之前的表达方式

## 💡 使用技巧

### 最佳实践
1. **定期备份**：定期导出对话记录以防数据丢失
2. **合理命名**：给重要会话起有意义的标题
3. **及时清理**：删除不需要的旧会话释放空间
4. **分类管理**：为不同用途创建不同的会话

### 性能优化
- **限制会话长度**：超长对话可能影响性能
- **定期清理**：删除无用会话保持系统流畅
- **避免重复**：复用现有会话而不是频繁创建新会话

## 🔒 隐私安全

### 数据安全
- **本地存储**：所有数据保存在本地，不上传服务器
- **用户控制**：用户完全控制自己的对话数据
- **可删除性**：随时可以删除所有存储的数据

### 隐私保护
- **匿名化**：不收集用户个人身份信息
- **加密传输**：API调用使用HTTPS加密
- **数据最小化**：只存储对话相关的必要信息

## 🆘 常见问题

### Q: 会话数据会丢失吗？
A: 数据保存在浏览器本地存储中，除非清除浏览器数据或手动删除，否则会一直保留。建议定期导出备份。

### Q: 可以在不同设备间同步吗？
A: 目前通过导出/导入功能实现跨设备数据迁移。未来会考虑添加云端同步功能。

### Q: 会话太多会影响性能吗？
A: 系统限制最多50个会话，超出后自动删除最旧的。正常使用不会影响性能。

### Q: 如何恢复误删的会话？
A: 误删的会话无法恢复，建议删除前确认。重要对话请及时导出备份。

### Q: 存储空间不足怎么办？
A: 删除不需要的旧会话，或导出重要对话后清空存储空间。

---

## 🎯 总结

会话管理功能让AI角色扮演聊天变得更加实用和个性化。您现在可以：

- 📚 **建立学习档案** - 记录与不同角色的学习进程
- 🎭 **创造故事世界** - 与角色们演绎不同的故事情节
- 💭 **保存智慧对话** - 永久保存有价值的思想交流
- 📱 **随时随地继续** - 在任何时候继续之前的对话

立即体验这些强大的新功能，让您的AI对话更加丰富和有意义！